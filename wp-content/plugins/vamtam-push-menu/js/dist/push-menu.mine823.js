!function(a){"use strict";if("ontouchstart"in window){var b=null,c=null,d=!1,e=!1;window.WPVQuickTap=function(f){var g=this;f.on("touchstart",function(a){b=a.timeStamp,c=a.originalEvent.touches.item(0),d=!0,e=!1}),f.on("touchend",function(d){var f=d.timeStamp-b,h=g.getMovement(c,d.originalEvent.changedTouches.item(0)),i=!e&&5>h&&200>f;i&&(a(d.target).trigger("wpvQuickTap",d),d.preventDefault())}),f.on("scroll mousemove touchmove",function(a){"scroll"!==a.type&&"mousemove"!==a.type&&"touchmove"!==a.type||!d||e||(e=!0)})},WPVQuickTap.prototype.getMovement=function(a,b){if(!a||!b)return 0;var c=b.screenX-a.screenX,d=b.screenY-a.screenY;return Math.sqrt(c*c+d*d)}}}(jQuery),function(a,b,c){"use strict";function d(a,b){if(!a)return!1;for(var c=a.target||a.srcElement||a||!1;c&&c.id!==b;)c=c.parentNode||!1;return c!==!1}function e(a,c,d,f){return f=f||0,a.id.indexOf(c)>=0?f:(b(a).hasClass(d)&&++f,a.parentNode&&e(a.parentNode,c,d,f))}function f(a,c,d){this.el=a,this.$el=b(a),this.trigger=c,this.options=b.extend(this.defaults,d),this._init()}f.prototype={defaults:{backClass:"mp-back",duration:.7},_init:function(){this.open=!1,this.level=0,this.wrapper=b("#mp-pusher"),this.levels=Array.prototype.slice.call(this.el.querySelectorAll("div.mp-level")),this.$levels=b(this.levels);var a=this;this.levels.forEach(function(b){b.setAttribute("data-level",e(b,a.el.id,"mp-level"))}),this.menuItems=Array.prototype.slice.call(this.el.querySelectorAll("li")),this.levelBack=Array.prototype.slice.call(this.el.querySelectorAll("."+this.options.backClass)),this.eventtype="click",this._initInteractions()},_initEvents:function(){var c=this;this.trigger.bind("touchstart.openpushmenu, click.openpushmenu",function(e){e.stopPropagation(),e.preventDefault(),c.open?c._resetMenu():(c._openMenu(),b(a).bind("touchstart.closepushmenu click.closepushmenu",function(e){c.open&&!d(e.target,c.el.id)&&(e.preventDefault(),c._resetMenu(),b(a).unbind("touchstart.closepushmenu click.closepushmenu"))}))})},_initInteractions:function(){var c=this;c.vamtam_yepnope=function(a,b){function c(){}function d(a){return Object(a)===a}function e(a){return"string"==typeof a}function f(){return"yn_"+q++}function g(){o&&o.parentNode||(o=b.getElementsByTagName("script")[0])}function h(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function i(b,c){c.call(a)}function j(a,j){var k,l,m;e(a)?k=a:d(a)&&(k=a._url||a.src,l=a.attrs,m=a.timeout),j=j||c,l=l||{};var q,r,t=b.createElement("script");m=m||n.errorTimeout,t.src=k,s&&(t.event="onclick",t.id=t.htmlFor=l.id||f());for(r in l)t.setAttribute(r,l[r]);t.onreadystatechange=t.onload=function(){if(!q&&h(t.readyState)){if(q=1,s)try{t.onclick()}catch(a){}i(k,j)}t.onload=t.onreadystatechange=t.onerror=null},t.onerror=function(){q=1,j(new Error("Script Error: "+k))},p(function(){q||(q=1,j(new Error("Timeout: "+k)),t.parentNode.removeChild(t))},m),g(),o.parentNode.insertBefore(t,o)}function k(f,h){var i,j,k={};d(f)?(i=f._url||f.href,k=f.attrs||{}):e(f)&&(i=f);var l=b.createElement("link");h=h||c,l.href=i,l.rel="stylesheet",l.media="only x",l.type="text/css",p(function(){l.media=k.media||"all"});for(j in k)l.setAttribute(j,k[j]);g(),o.parentNode.appendChild(l),p(function(){h.call(a)})}function l(a){var b=a.split("?")[0];return b.substr(b.lastIndexOf(".")+1)}function m(a,b){var c=a,d=[],e=[];for(var f in b)b.hasOwnProperty(f)&&(b[f]?d.push(encodeURIComponent(f)):e.push(encodeURIComponent(f)));return(d.length||e.length)&&(c+="?"),d.length&&(c+="yep="+d.join(",")),e.length&&(c+=(d.length?"&":"")+"nope="+e.join(",")),c}function n(a,b,c){var e;d(a)&&(e=a,a=e.src||e.href),a=n.urlFormatter(a,b),e?e._url=a:e={_url:a};var f=l(a);if("js"===f)j(e,c);else{if("css"!==f)throw new Error("Unable to determine filetype.");k(e,c)}}var o,p=a.setTimeout,q=0,r={}.toString,s=!(!b.attachEvent||a.opera&&"[object Opera]"==r.call(a.opera));return n.errorTimeout=1e4,n.injectJs=j,n.injectCss=k,n.urlFormatter=m,n}(a,document),a.vamtampmgs=a.GreenSockGlobals={},a._gsQueue=a._gsDefine=null;var d=[a.WpvPushMenu.jspath+"gsap/Draggable.min.js",a.WpvPushMenu.jspath+"gsap/ThrowPropsPlugin.min.js",a.WpvPushMenu.jspath+"gsap/CSSPlugin.min.js",a.WpvPushMenu.jspath+"gsap/TweenLite.min.js"],e=0,f=function(){++e>=d.length&&(a.GreenSockGlobals=a._gsQueue=a._gsDefine=null,a.vamtampmgs_greensock_loaded=!0,h())};if(d.length>0)for(var g=0;g<d.length;g++)c.vamtam_yepnope.injectJs(d[g],f);else f();var h=function(){var d=b(a),e=!0,f=b("header.main-header .logo-wrapper");c.$el.css({height:"auto",bottom:0});var g=function(){d.width()>a.WpvPushMenu.limit&&c._resetMenu(!0)},h=function(){if(c.trigger.is(":visible")&&!c.open){var a=c.wrapper.offset().top;c.$el.css("top",a),c.trigger.css({top:f.offset().top+f.outerHeight()/2-a,left:"100%"}),e&&(e=!1,c.trigger.appendTo(c.$el),vamtampmgs.TweenLite.to(c.trigger,.5,{autoAlpha:1,ease:vamtampmgs.Power4.easeOut}))}};d.bind("resize touchmove",_.debounce(g,100)),d.resize(_.debounce(h,1e3)),g(),h(),c._initEvents(),c.draggable=vamtampmgs.Draggable.create(c.$el.find("> ul > li > .mp-level"),{type:"scrollTop",edgeResistance:.7,throwProps:!0,dragClickables:!0,onClick:function(d){d.preventDefault(),d.stopPropagation();var e=b(d.target);if(console.log(d,d.target),e.hasClass("mp-back"))return c.level=b(e).closest(".mp-level").data("level")-1,void(0===c.level?c._resetMenu():c._closeMenu());var f=e.find("+ .mp-level");if(f.length)e.closest(".mp-level").addClass("mp-level-overlay"),setTimeout(function(){c._openMenu(f)},100);else{var g=e.attr("href");if(g)try{var h=String(e.attr("target")||"self").replace(/^_/,"");"blank"===h||"new"===h?a.open(g):(a[h].location=g,"#"===g[0]&&c._resetMenu())}catch(i){console.log(d),c._resetMenu()}}}}),c.$el.find("> ul > li > .mp-level").css("overflow-y","hidden")}},_openMenu:function(a){++this.level,document.getElementsByTagName("html")[0].style.overflow="hidden","draggable"in this&&this.draggable[0].scrollProxy.scrollTop(0);(this.level-1)*this.options.levelSpacing,this.el.offsetWidth;1===this.level?(this.wrapper.addClass("mp-pushed"),vamtampmgs.TweenLite.to(this.$el,this.options.duration,{x:270,ease:vamtampmgs.Power3.easeOut}),this.open=!0):a&&(a.closest("li").siblings().hide(),a.prev().hide(),this.$levels.not(a).find("> .mp-level-header, > div > .mp-level-header").hide(),a.find("> .mp-level-header, > div > .mp-level-header").show()),b(a||this.levels[0]).addClass("mp-level-open")},_resetMenu:function(c){for(this.wrapper.removeClass("mp-pushed"),vamtampmgs.TweenLite.to(this.$el,this.options.duration,{x:0,ease:vamtampmgs.Power2.easeOut}),document.getElementsByTagName("html")[0].style.overflow="",this.open=!1;this.level-->=0;)this._closeMenu();this.level=0,c||(b(a).resize(),setTimeout(function(){b(a).resize()},500))},_closeMenu:function(){var a=this;this.$levels.each(function(c,d){d=b(d),d.data("level")>a.level?(d.removeClass("mp-level-open mp-level-overlay"),d.prev().show()):Number(d.data("level"))===a.level&&(d.removeClass("mp-level-overlay"),a.$levels.not(d).not('[data-level="'+a.level+'"]').find("> .mp-level-header, > div > .mp-level-header").hide(),d.find("> .mp-level-header, > div > .mp-level-header").show(),d.find("li, li > a").show())})}},a.MlPushMenu=f}(window,jQuery),function(a,b){"use strict";var c={Models:{},Collections:{},Views:{}};c.Models.Root=Backbone.Model.extend({defaults:{title:"",description:"",type:"root",children:[]},initialize:function(){this.children=new c.Collections.Item}}),c.Models.Item=Backbone.Model.extend({defaults:{url:"",title:"",attr_title:"",description:"",classes:[],type:"root",children:[]}}),c.Collections.Item=Backbone.Collection.extend({model:c.Models.Item}),c.Collections.Root=Backbone.Collection.extend({model:c.Models.Root}),c.Views.Root=Backbone.View.extend({el:a(".main-container"),initialize:function(){this.template=a("#wpvpm-menu-root").html(),_.bindAll(this,"render"),this.listenTo(this.model,"change",this.render),this.render()},render:function(){var b=new c.Views.Item({model:new c.Models.Item(this.model.toJSON())}).render(),d=a("<div></div>").addClass("mp-scroller").attr("id","mp-scroller"),e=a("<div></div>").addClass("mp-pusher").attr("id","mp-pusher");a(this.el).wrap(e).before(_.template(this.template)({content:b})),a(this.el).wrap(d)}}),c.Views.Item=Backbone.View.extend({initialize:function(){this.template=a("#wpvpm-menu-item").html(),_.bindAll(this,"render")},render:function(){var a="";return _(this.model.get("children")).each(function(b){var d=new c.Views.Item({model:new c.Models.Item(b)});a+=d.render()}),_.template(this.template)(_.extend(this.model.toJSON(),{content:a}))}}),a(function(){if("WpvPushMenu"in window&&WpvPushMenu.items){new c.Views.Root({model:new c.Models.Root(WpvPushMenu.items)});var b=a("#mp-menu-trigger");b&&(new MlPushMenu(document.getElementById("mp-menu"),b,{}),"WPVQuickTap"in window)}})}(jQuery);